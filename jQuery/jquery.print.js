/* @license 
 * jQuery.print, version 1.3.3
 *  (c) Sathvik Ponangi, Doers' Guild
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
 *--------------------------------------------------------------------------*/
!function(e){"use strict";function t(t){var n=e("");try{n=e(t).clone()}catch(r){n=e("<span />").html(t)}return n}function n(t,n){var r=e.Deferred();try{setTimeout(function(){t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch(e){t.print()}t.close(),r.resolve()},n)}catch(o){r.reject(o)}return r}function r(e,t){var r=window.open();return r.document.write(e),r.document.close(),n(r,t)}function o(e){return!!("object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName)}e.print=e.fn.print=function(){var a,i,c=this;c instanceof e&&(c=c.get(0)),o(c)?(i=e(c),arguments.length>0&&(a=arguments[0])):arguments.length>0?(i=e(arguments[0]),o(i[0])?arguments.length>1&&(a=arguments[1]):(a=arguments[0],i=e("html"))):i=e("html");var l={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:e.Deferred(),timeout:250};a=e.extend({},l,a||{});var s=e("");a.globalStyles?s=e("style, link, meta, title"):a.mediaPrint&&(s=e("link[media=print]")),a.stylesheet&&(s=e.merge(s,e('<link rel="stylesheet" href="'+a.stylesheet+'">')));var d=i.clone();d=e("<span/>").append(d),d.find(a.noPrintSelector).remove(),d.append(s.clone()),d.append(t(a.append)),d.prepend(t(a.prepend)),a.manuallyCopyFormValues&&(d.find("input").each(function(){var t=e(this);t.is("[type='radio']")||t.is("[type='checkbox']")?t.prop("checked")&&t.attr("checked","checked"):t.attr("value",t.val())}),d.find("select").each(function(){var t=e(this);t.find(":selected").attr("selected","selected")}),d.find("textarea").each(function(){var t=e(this);t.text(t.val())}));var u=d.html();try{a.deferred.notify("generated_markup",u,d)}catch(f){console.warn("Error notifying deferred",f)}if(d.remove(),a.iframe)try{var m=e(a.iframe+""),p=m.length;0===p&&(m=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999}));var h,y;h=m.get(0),h=h.contentWindow||h.contentDocument||h,y=h.document||h.contentDocument||h,y.open(),y.write(u),y.close(),n(h,a.timeout).done(function(){setTimeout(function(){0===p&&m.remove()},100)}).fail(function(e){console.error("Failed to print from iframe",e),r(u,a.timeout)}).always(function(){try{a.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}catch(g){console.error("Failed to print from iframe",g.stack,g.message),r(u,a.timeout).always(function(){try{a.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}else r(u,a.timeout).always(function(){try{a.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}});return this}}(jQuery);