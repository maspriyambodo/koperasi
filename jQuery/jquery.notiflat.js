/*
* notiflat 
* version: 0.1
* homepage: code.tiagomfs.net/notiflat/
* Licensed under the MIT license
*http://www.opensource.org/licenses/mit-license.php
* Simple (& Flat) Notification for jQuery
*/
!function(t,n,e,i){t.notiflat=function(n,e){var i=["success","warning","loading","info","error"],a=t.extend({type:"string"==typeof e&&"-1"!=t.inArray(e,i)?e:"success",position:"bottom right",timeout:2e3,animation:"fade",animationSpeed:"slow",animateIn:null,animateOut:null,close:"button",classes:null,onClose:function(){},onStart:function(){}},e);if("loading"==a.type){n=n.length>0?n:"Loading...";var o=!0}var l={};a.animateIn||("fade"==a.animation?l.opacity="toggle":("slide"==a.animation||a.animation)&&(l.height="toggle")),a.onStart.call(this),0==t('[class="notiflat '+a.position+'"]').length&&($aside='<aside class="notiflat '+a.position+'"></aside>',t("body").append($aside)),_makeid=function(){for(var t="",n="0123456789",e=0;16>e;e++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};var s="go-"+_makeid();$holder=t('[class="notiflat '+a.position+'"]'),$template='<article id="'+s+'" class="notification '+a.type+" "+("self"==a.close?"close":"")+" "+(a.classes?a.classes:"")+'"><section>'+n+" "+("button"!=a.close||o?"":'<i class="fa fa-times-circle"></i>')+"</section></article>",$holder.append($template),$notification=t("#"+s),a.animateIn?$notification.show().addClass("animated "+a.animateIn):$notification.animate(l,a.animationSpeed);var c=t("#"+s+" section i, #"+s+".close"),r=function(t,n,e){var i=(new Date).getTime(),a=setInterval(function(){var o=t-((new Date).getTime()-i);0>=o?(clearInterval(a),e()):n(Math.floor(o/1e3))},100)},d=function(){a.onClose.call(this),a.animateOut?(t("#"+s).addClass(a.animateOut),setTimeout(function(){t("#"+s).remove(),0==$holder.find("article").length&&$holder.remove()},1e3)):t("#"+s).animate(l,a.animationSpeed,function(){t(this).remove(),0==$holder.find("article").length&&$holder.remove()})};return c.on("click",function(){d()}),o||a.timeout&&r(a.timeout,function(t){},function(){d()}),{close:d}}}(jQuery,window,document);